<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Resettled refugees in Sweden | Karn Wong</title><meta name=keywords content="data analysis"><meta name=description content="One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that&rsquo;s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.
In this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs."><meta name=author content="Karn Wong"><link rel=canonical href=https://www.karnwong.me/posts/2018/07/resettled-refugees-in-sweden/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.karnwong.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.karnwong.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.karnwong.me/favicon-32x32.png><link rel=apple-touch-icon href=https://www.karnwong.me/apple-touch-icon.png><link rel=mask-icon href=https://www.karnwong.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-8CYMFC0KZ9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8CYMFC0KZ9",{anonymize_ip:!1})}</script><meta property="og:title" content="Resettled refugees in Sweden"><meta property="og:description" content="One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that&rsquo;s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.
In this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs."><meta property="og:type" content="article"><meta property="og:url" content="https://www.karnwong.me/posts/2018/07/resettled-refugees-in-sweden/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-07-30T17:00:00+00:00"><meta property="article:modified_time" content="2018-07-30T17:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Resettled refugees in Sweden"><meta name=twitter:description content="One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that&rsquo;s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.
In this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.karnwong.me/posts/"},{"@type":"ListItem","position":2,"name":"Resettled refugees in Sweden","item":"https://www.karnwong.me/posts/2018/07/resettled-refugees-in-sweden/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Resettled refugees in Sweden","name":"Resettled refugees in Sweden","description":"One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that\u0026rsquo;s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.\nIn this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs.","keywords":["data analysis"],"articleBody":"One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that’s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.\nIn this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs.\nimport numpy as np import pandas as pd import matplotlib.pyplot as plt %matplotlib inline The next step is to clean up the dataframe for further analysis. The steps are:\nRead csv Group by origin country and year resettled Remove destination country column (because it’s the same value) Remove non-integer values (because you can’t do math magic with it) Convert year and value to integer (hello, math magic) ## data prep df = pd.read_csv('unhcr_resettlement_residence_swe.csv')[1:] df = df.groupby(['Origin', 'Year'], as_index=False).sum() # group by two columns df = df.drop('Country / territory of asylum/residence', axis=1) # drop destination country column df = df[(df != '*').all(1)] # remove any rows that has '*' value df.Year = df.Year.astype(np.int64) # convert year to int df.Value = df.Value.astype(np.int64) # convert value to int df Origin Year Value 0 Afghanistan 1984 7 1 Afghanistan 1985 4 2 Afghanistan 1986 4 3 Afghanistan 1987 1 4 Afghanistan 1988 1 5 Afghanistan 1991 2 6 Afghanistan 1992 18 7 Afghanistan 1997 1 8 Afghanistan 1998 5 9 Afghanistan 1999 16 10 Afghanistan 2000 339 11 Afghanistan 2001 270 12 Afghanistan 2002 156 13 Afghanistan 2003 244 14 Afghanistan 2004 314 15 Afghanistan 2005 183 16 Afghanistan 2006 353 17 Afghanistan 2007 185 18 Afghanistan 2008 414 19 Afghanistan 2009 318 20 Afghanistan 2010 336 21 Afghanistan 2011 404 22 Afghanistan 2012 438 23 Afghanistan 2013 219 24 Afghanistan 2014 328 25 Afghanistan 2015 222 26 Afghanistan 2016 20 27 Albania 1991 1 28 Albania 1992 1 29 Albania 2003 3 ... ... ... ... 705 Various/unknown 2009 2 706 Various/unknown 2013 2 707 Venezuela (Bolivarian Republic of) 2015 4 708 Viet Nam 1984 76 709 Viet Nam 1985 48 710 Viet Nam 1986 171 711 Viet Nam 1987 232 712 Viet Nam 1988 94 713 Viet Nam 1990 939 714 Viet Nam 1991 656 715 Viet Nam 1992 474 716 Viet Nam 1993 197 717 Viet Nam 1994 32 718 Viet Nam 1995 4 719 Viet Nam 1997 21 720 Viet Nam 2002 1 721 Viet Nam 2004 10 722 Viet Nam 2006 10 723 Viet Nam 2009 2 724 Viet Nam 2010 6 726 Yemen 1992 1 727 Yemen 2004 1 728 Yemen 2005 4 729 Yemen 2006 1 730 Zimbabwe 2006 4 731 Zimbabwe 2008 1 732 Zimbabwe 2011 1 733 Zimbabwe 2014 7 734 Zimbabwe 2015 6 735 Zimbabwe 2016 9 725 rows × 3 columns\nSince I want to plot a multiple line graph, I need to supply one dataframe per each line. This step is to create one dataframe per source country and clean it up. For example, if there is one year where no refugees are resettled, that year doesn’t exist in the dataframe, so I have to check whether the years are missing or not, and if missing, create it and set the value to 0.\n## create one dataframe per one origin country UniqueNames = df.Origin.unique() DataFrameDict = {elem : pd.DataFrame for elem in UniqueNames} for key in DataFrameDict.keys(): DataFrameDict[key] = df[:][df.Origin == key] def clean_up_dataframe(df): country = df.Origin.unique()[0] df = df.drop('Origin', axis=1) df.index = df.Year df = df.drop('Year', axis=1) df = df.rename(columns={'Value': country}) df2 = pd.DataFrame({'Year':range(1983,2016+1), country:0}) # dummy dataframe df2.index = df2.Year df2[country] = df[country] df2 = df2.fillna(0) df2 = df2[country] return df2 And because Syria is in the Middle East, I want to focus in the MENA region (Middle East and North Africa). However, the list is too big, and I’ve yet to figure out how to make it look pretty. What I do instead is group countries into each subregion and plot them.\n## orginal MENA, too big UniqueNames_og_mena = ['Algeria', 'Bahrain', 'Djibouti', 'Egypt', 'Iran', 'Iraq', 'Israel', 'Jordan', 'Kuwait', 'Lebanon', 'Libya', 'Mauritania', 'Morocco', 'Oman', 'Palestine', 'Qatar', 'Sahrawi Arab Democratic Republic', 'Saudi Arabia', 'Somalia', 'Sudan', 'Syria', 'Tunisia', 'United Arab Emirates', 'Yemen', 'Afghanistan', 'Armenia', 'Azerbaijan', 'Chad', 'Comoros', 'Cyprus', 'Eritrea', 'Georgia', 'Mali', 'Niger', 'Pakistan', 'Turkey'] ## MENA UniqueNames_mena = ['Algeria', 'Bahrain', 'Djibouti', 'Egypt', 'Iran (Islamic Rep. of)', 'Iraq', 'Jordan', 'Kuwait', 'Lebanon', 'Libya', 'Mauritania', 'Saudi Arabia', 'Somalia', 'Sudan', 'Syrian Arab Rep.', 'Tunisia', 'Yemen', 'Afghanistan', 'Armenia', 'Azerbaijan', 'Chad', 'Eritrea', 'Georgia', 'Pakistan', 'Turkey'] ## LEVANT UniqueNames_levant = [ 'Iraq', 'Jordan', 'Lebanon', 'Syrian Arab Rep.'] ## NORTH AFRICA UniqueNames_north_africa = ['Algeria', 'Djibouti', 'Egypt', 'Libya', 'Mauritania', 'Somalia', 'Sudan', 'Tunisia', 'Chad', 'Eritrea'] def plot(region_name, region_list): df1 = clean_up_dataframe(DataFrameDict[region_list[0]]) ax = df1.plot(figsize=(15,10)) for i in region_list[1:]: df = clean_up_dataframe(DataFrameDict[i]) df.plot(ax=ax) plt.xlabel('Year') plt.ylabel('Value') plt.title('Resettled Refugees in Sweden from {} Region Between 1983-2016'.format(region_name)) ax.legend() plt.show() ## plot('All MENA', UniqueNames_og_mena) # list is too big plot('MENA', UniqueNames_mena) You can see that a lot of Iraqi refugees resettled between 1990-1995, which coincides with the Gulf War (1990-1).\nplot('Levant', UniqueNames_levant) This graph shows only refugees from the Levant region. As expected, a lot of Iraqis sought asylum during the 90’s, but Syrian refugees spiked up after 2010, which coincides with Arab Spring (2010-2).\nplot('North Africa', UniqueNames_north_africa) In North Africa, Somalian refugees spiked up around 2010, which is the result from non-functioning government, which resulted in rising clan wars. Additionally, you can see that there are a lot of Eritrean refugees too, from indefinite conscription. Families of those who fled the military are also targeted.\n","wordCount":"929","inLanguage":"en","datePublished":"2018-07-30T17:00:00Z","dateModified":"2018-07-30T17:00:00Z","author":{"@type":"Person","name":"Karn Wong"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.karnwong.me/posts/2018/07/resettled-refugees-in-sweden/"},"publisher":{"@type":"Organization","name":"Karn Wong","logo":{"@type":"ImageObject","url":"https://www.karnwong.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.karnwong.me/ accesskey=h title="Karn Wong (Alt + H)">Karn Wong</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.karnwong.me/about/ title=About><span>About</span></a></li><li><a href=https://www.karnwong.me/posts title=Posts><span>Posts</span></a></li><li><a href=https://www.karnwong.me/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://www.karnwong.me/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.karnwong.me/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.karnwong.me/>Home</a>&nbsp;»&nbsp;<a href=https://www.karnwong.me/posts/>Posts</a></div><h1 class=post-title>Resettled refugees in Sweden</h1><div class=post-meta><span title='2018-07-30 17:00:00 +0000 UTC'>July 30, 2018</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Karn Wong</div></header><div class=post-content><p>One of my friends is a Syrian refugee, who was granted asylum in Sweden last year. I also want to try data analysis, so it fits that I should analyze something that&rsquo;s relevant to my friend. This is my first ever analysis in pandas, apologies for code abomination in advance.</p><p>In this analysis, I use pandas for dataframe, numpy for dealing with numbers (because I need to count and do some math with it) and matplotlib for plotting graphs.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span><span style=color:#f92672>%</span>matplotlib inline
</span></span></code></pre></div><p>The next step is to clean up the dataframe for further analysis. The steps are:</p><ul><li>Read csv</li><li>Group by origin country and year resettled</li><li>Remove destination country column (because it&rsquo;s the same value)</li><li>Remove non-integer values (because you can&rsquo;t do math magic with it)</li><li>Convert year and value to integer (hello, math magic)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>## data prep</span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(<span style=color:#e6db74>&#39;unhcr_resettlement_residence_swe.csv&#39;</span>)[<span style=color:#ae81ff>1</span>:]
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>groupby([<span style=color:#e6db74>&#39;Origin&#39;</span>, <span style=color:#e6db74>&#39;Year&#39;</span>], as_index<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>sum() <span style=color:#75715e># group by two columns</span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>drop(<span style=color:#e6db74>&#39;Country / territory of asylum/residence&#39;</span>, axis<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>) <span style=color:#75715e># drop destination country column</span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> df[(df <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;*&#39;</span>)<span style=color:#f92672>.</span>all(<span style=color:#ae81ff>1</span>)] <span style=color:#75715e># remove any rows that has &#39;*&#39; value</span>
</span></span><span style=display:flex><span>df<span style=color:#f92672>.</span>Year <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>Year<span style=color:#f92672>.</span>astype(np<span style=color:#f92672>.</span>int64) <span style=color:#75715e># convert year to int</span>
</span></span><span style=display:flex><span>df<span style=color:#f92672>.</span>Value <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>Value<span style=color:#f92672>.</span>astype(np<span style=color:#f92672>.</span>int64) <span style=color:#75715e># convert value to int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>df
</span></span></code></pre></div><table><thead><tr><th></th><th>Origin</th><th>Year</th><th>Value</th></tr></thead><tbody><tr><td>0</td><td>Afghanistan</td><td>1984</td><td>7</td></tr><tr><td>1</td><td>Afghanistan</td><td>1985</td><td>4</td></tr><tr><td>2</td><td>Afghanistan</td><td>1986</td><td>4</td></tr><tr><td>3</td><td>Afghanistan</td><td>1987</td><td>1</td></tr><tr><td>4</td><td>Afghanistan</td><td>1988</td><td>1</td></tr><tr><td>5</td><td>Afghanistan</td><td>1991</td><td>2</td></tr><tr><td>6</td><td>Afghanistan</td><td>1992</td><td>18</td></tr><tr><td>7</td><td>Afghanistan</td><td>1997</td><td>1</td></tr><tr><td>8</td><td>Afghanistan</td><td>1998</td><td>5</td></tr><tr><td>9</td><td>Afghanistan</td><td>1999</td><td>16</td></tr><tr><td>10</td><td>Afghanistan</td><td>2000</td><td>339</td></tr><tr><td>11</td><td>Afghanistan</td><td>2001</td><td>270</td></tr><tr><td>12</td><td>Afghanistan</td><td>2002</td><td>156</td></tr><tr><td>13</td><td>Afghanistan</td><td>2003</td><td>244</td></tr><tr><td>14</td><td>Afghanistan</td><td>2004</td><td>314</td></tr><tr><td>15</td><td>Afghanistan</td><td>2005</td><td>183</td></tr><tr><td>16</td><td>Afghanistan</td><td>2006</td><td>353</td></tr><tr><td>17</td><td>Afghanistan</td><td>2007</td><td>185</td></tr><tr><td>18</td><td>Afghanistan</td><td>2008</td><td>414</td></tr><tr><td>19</td><td>Afghanistan</td><td>2009</td><td>318</td></tr><tr><td>20</td><td>Afghanistan</td><td>2010</td><td>336</td></tr><tr><td>21</td><td>Afghanistan</td><td>2011</td><td>404</td></tr><tr><td>22</td><td>Afghanistan</td><td>2012</td><td>438</td></tr><tr><td>23</td><td>Afghanistan</td><td>2013</td><td>219</td></tr><tr><td>24</td><td>Afghanistan</td><td>2014</td><td>328</td></tr><tr><td>25</td><td>Afghanistan</td><td>2015</td><td>222</td></tr><tr><td>26</td><td>Afghanistan</td><td>2016</td><td>20</td></tr><tr><td>27</td><td>Albania</td><td>1991</td><td>1</td></tr><tr><td>28</td><td>Albania</td><td>1992</td><td>1</td></tr><tr><td>29</td><td>Albania</td><td>2003</td><td>3</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>705</td><td>Various/unknown</td><td>2009</td><td>2</td></tr><tr><td>706</td><td>Various/unknown</td><td>2013</td><td>2</td></tr><tr><td>707</td><td>Venezuela (Bolivarian Republic of)</td><td>2015</td><td>4</td></tr><tr><td>708</td><td>Viet Nam</td><td>1984</td><td>76</td></tr><tr><td>709</td><td>Viet Nam</td><td>1985</td><td>48</td></tr><tr><td>710</td><td>Viet Nam</td><td>1986</td><td>171</td></tr><tr><td>711</td><td>Viet Nam</td><td>1987</td><td>232</td></tr><tr><td>712</td><td>Viet Nam</td><td>1988</td><td>94</td></tr><tr><td>713</td><td>Viet Nam</td><td>1990</td><td>939</td></tr><tr><td>714</td><td>Viet Nam</td><td>1991</td><td>656</td></tr><tr><td>715</td><td>Viet Nam</td><td>1992</td><td>474</td></tr><tr><td>716</td><td>Viet Nam</td><td>1993</td><td>197</td></tr><tr><td>717</td><td>Viet Nam</td><td>1994</td><td>32</td></tr><tr><td>718</td><td>Viet Nam</td><td>1995</td><td>4</td></tr><tr><td>719</td><td>Viet Nam</td><td>1997</td><td>21</td></tr><tr><td>720</td><td>Viet Nam</td><td>2002</td><td>1</td></tr><tr><td>721</td><td>Viet Nam</td><td>2004</td><td>10</td></tr><tr><td>722</td><td>Viet Nam</td><td>2006</td><td>10</td></tr><tr><td>723</td><td>Viet Nam</td><td>2009</td><td>2</td></tr><tr><td>724</td><td>Viet Nam</td><td>2010</td><td>6</td></tr><tr><td>726</td><td>Yemen</td><td>1992</td><td>1</td></tr><tr><td>727</td><td>Yemen</td><td>2004</td><td>1</td></tr><tr><td>728</td><td>Yemen</td><td>2005</td><td>4</td></tr><tr><td>729</td><td>Yemen</td><td>2006</td><td>1</td></tr><tr><td>730</td><td>Zimbabwe</td><td>2006</td><td>4</td></tr><tr><td>731</td><td>Zimbabwe</td><td>2008</td><td>1</td></tr><tr><td>732</td><td>Zimbabwe</td><td>2011</td><td>1</td></tr><tr><td>733</td><td>Zimbabwe</td><td>2014</td><td>7</td></tr><tr><td>734</td><td>Zimbabwe</td><td>2015</td><td>6</td></tr><tr><td>735</td><td>Zimbabwe</td><td>2016</td><td>9</td></tr></tbody></table><p>725 rows × 3 columns</p><p>Since I want to plot a multiple line graph, I need to supply one dataframe per each line. This step is to create one dataframe per source country and clean it up. For example, if there is one year where no refugees are resettled, that year doesn&rsquo;t exist in the dataframe, so I have to check whether the years are missing or not, and if missing, create it and set the value to 0.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>## create one dataframe per one origin country</span>
</span></span><span style=display:flex><span>UniqueNames <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>Origin<span style=color:#f92672>.</span>unique()
</span></span><span style=display:flex><span>DataFrameDict <span style=color:#f92672>=</span> {elem : pd<span style=color:#f92672>.</span>DataFrame <span style=color:#66d9ef>for</span> elem <span style=color:#f92672>in</span> UniqueNames}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> key <span style=color:#f92672>in</span> DataFrameDict<span style=color:#f92672>.</span>keys():
</span></span><span style=display:flex><span>    DataFrameDict[key] <span style=color:#f92672>=</span> df[:][df<span style=color:#f92672>.</span>Origin <span style=color:#f92672>==</span> key]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>clean_up_dataframe</span>(df):
</span></span><span style=display:flex><span>    country <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>Origin<span style=color:#f92672>.</span>unique()[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>drop(<span style=color:#e6db74>&#39;Origin&#39;</span>, axis<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    df<span style=color:#f92672>.</span>index <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>Year
</span></span><span style=display:flex><span>    df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>drop(<span style=color:#e6db74>&#39;Year&#39;</span>, axis<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>rename(columns<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#39;Value&#39;</span>: country})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    df2 <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>DataFrame({<span style=color:#e6db74>&#39;Year&#39;</span>:range(<span style=color:#ae81ff>1983</span>,<span style=color:#ae81ff>2016</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>), country:<span style=color:#ae81ff>0</span>}) <span style=color:#75715e># dummy dataframe</span>
</span></span><span style=display:flex><span>    df2<span style=color:#f92672>.</span>index <span style=color:#f92672>=</span> df2<span style=color:#f92672>.</span>Year
</span></span><span style=display:flex><span>    df2[country] <span style=color:#f92672>=</span> df[country]
</span></span><span style=display:flex><span>    df2 <span style=color:#f92672>=</span> df2<span style=color:#f92672>.</span>fillna(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    df2 <span style=color:#f92672>=</span> df2[country]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> df2
</span></span></code></pre></div><p>And because Syria is in the Middle East, I want to focus in the MENA region (Middle East and North Africa). However, the list is too big, and I&rsquo;ve yet to figure out how to make it look pretty. What I do instead is group countries into each subregion and plot them.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>## orginal MENA, too big</span>
</span></span><span style=display:flex><span>UniqueNames_og_mena <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Algeria&#39;</span>, <span style=color:#e6db74>&#39;Bahrain&#39;</span>, <span style=color:#e6db74>&#39;Djibouti&#39;</span>, <span style=color:#e6db74>&#39;Egypt&#39;</span>, <span style=color:#e6db74>&#39;Iran&#39;</span>, <span style=color:#e6db74>&#39;Iraq&#39;</span>, <span style=color:#e6db74>&#39;Israel&#39;</span>, <span style=color:#e6db74>&#39;Jordan&#39;</span>,
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Kuwait&#39;</span>, <span style=color:#e6db74>&#39;Lebanon&#39;</span>, <span style=color:#e6db74>&#39;Libya&#39;</span>, <span style=color:#e6db74>&#39;Mauritania&#39;</span>, <span style=color:#e6db74>&#39;Morocco&#39;</span>, <span style=color:#e6db74>&#39;Oman&#39;</span>, <span style=color:#e6db74>&#39;Palestine&#39;</span>, <span style=color:#e6db74>&#39;Qatar&#39;</span>,
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Sahrawi Arab Democratic Republic&#39;</span>, <span style=color:#e6db74>&#39;Saudi Arabia&#39;</span>, <span style=color:#e6db74>&#39;Somalia&#39;</span>, <span style=color:#e6db74>&#39;Sudan&#39;</span>, <span style=color:#e6db74>&#39;Syria&#39;</span>, <span style=color:#e6db74>&#39;Tunisia&#39;</span>,
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;United Arab Emirates&#39;</span>, <span style=color:#e6db74>&#39;Yemen&#39;</span>, <span style=color:#e6db74>&#39;Afghanistan&#39;</span>, <span style=color:#e6db74>&#39;Armenia&#39;</span>, <span style=color:#e6db74>&#39;Azerbaijan&#39;</span>, <span style=color:#e6db74>&#39;Chad&#39;</span>, <span style=color:#e6db74>&#39;Comoros&#39;</span>,
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Cyprus&#39;</span>, <span style=color:#e6db74>&#39;Eritrea&#39;</span>, <span style=color:#e6db74>&#39;Georgia&#39;</span>, <span style=color:#e6db74>&#39;Mali&#39;</span>, <span style=color:#e6db74>&#39;Niger&#39;</span>, <span style=color:#e6db74>&#39;Pakistan&#39;</span>, <span style=color:#e6db74>&#39;Turkey&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## MENA</span>
</span></span><span style=display:flex><span>UniqueNames_mena <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Algeria&#39;</span>, <span style=color:#e6db74>&#39;Bahrain&#39;</span>, <span style=color:#e6db74>&#39;Djibouti&#39;</span>, <span style=color:#e6db74>&#39;Egypt&#39;</span>, <span style=color:#e6db74>&#39;Iran (Islamic Rep. of)&#39;</span>, <span style=color:#e6db74>&#39;Iraq&#39;</span>, <span style=color:#e6db74>&#39;Jordan&#39;</span>,
</span></span><span style=display:flex><span>               <span style=color:#e6db74>&#39;Kuwait&#39;</span>, <span style=color:#e6db74>&#39;Lebanon&#39;</span>, <span style=color:#e6db74>&#39;Libya&#39;</span>, <span style=color:#e6db74>&#39;Mauritania&#39;</span>, <span style=color:#e6db74>&#39;Saudi Arabia&#39;</span>, <span style=color:#e6db74>&#39;Somalia&#39;</span>, <span style=color:#e6db74>&#39;Sudan&#39;</span>,
</span></span><span style=display:flex><span>               <span style=color:#e6db74>&#39;Syrian Arab Rep.&#39;</span>, <span style=color:#e6db74>&#39;Tunisia&#39;</span>, <span style=color:#e6db74>&#39;Yemen&#39;</span>, <span style=color:#e6db74>&#39;Afghanistan&#39;</span>,
</span></span><span style=display:flex><span>               <span style=color:#e6db74>&#39;Armenia&#39;</span>, <span style=color:#e6db74>&#39;Azerbaijan&#39;</span>, <span style=color:#e6db74>&#39;Chad&#39;</span>, <span style=color:#e6db74>&#39;Eritrea&#39;</span>, <span style=color:#e6db74>&#39;Georgia&#39;</span>, <span style=color:#e6db74>&#39;Pakistan&#39;</span>, <span style=color:#e6db74>&#39;Turkey&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## LEVANT</span>
</span></span><span style=display:flex><span>UniqueNames_levant <span style=color:#f92672>=</span> [ <span style=color:#e6db74>&#39;Iraq&#39;</span>, <span style=color:#e6db74>&#39;Jordan&#39;</span>, <span style=color:#e6db74>&#39;Lebanon&#39;</span>, <span style=color:#e6db74>&#39;Syrian Arab Rep.&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## NORTH AFRICA</span>
</span></span><span style=display:flex><span>UniqueNames_north_africa <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Algeria&#39;</span>, <span style=color:#e6db74>&#39;Djibouti&#39;</span>, <span style=color:#e6db74>&#39;Egypt&#39;</span>, <span style=color:#e6db74>&#39;Libya&#39;</span>, <span style=color:#e6db74>&#39;Mauritania&#39;</span>,  <span style=color:#e6db74>&#39;Somalia&#39;</span>, <span style=color:#e6db74>&#39;Sudan&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;Tunisia&#39;</span>, <span style=color:#e6db74>&#39;Chad&#39;</span>, <span style=color:#e6db74>&#39;Eritrea&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>plot</span>(region_name, region_list):
</span></span><span style=display:flex><span>    df1 <span style=color:#f92672>=</span> clean_up_dataframe(DataFrameDict[region_list[<span style=color:#ae81ff>0</span>]])
</span></span><span style=display:flex><span>    ax <span style=color:#f92672>=</span> df1<span style=color:#f92672>.</span>plot(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>15</span>,<span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> region_list[<span style=color:#ae81ff>1</span>:]:
</span></span><span style=display:flex><span>        df <span style=color:#f92672>=</span> clean_up_dataframe(DataFrameDict[i])
</span></span><span style=display:flex><span>        df<span style=color:#f92672>.</span>plot(ax<span style=color:#f92672>=</span>ax)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;Year&#39;</span>)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;Value&#39;</span>)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Resettled Refugees in Sweden from </span><span style=color:#e6db74>{}</span><span style=color:#e6db74> Region Between 1983-2016&#39;</span><span style=color:#f92672>.</span>format(region_name))
</span></span><span style=display:flex><span>    ax<span style=color:#f92672>.</span>legend()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## plot(&#39;All MENA&#39;, UniqueNames_og_mena) # list is too big</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plot(<span style=color:#e6db74>&#39;MENA&#39;</span>, UniqueNames_mena)
</span></span></code></pre></div><p><img loading=lazy src=/images/2021-08-18-18-49-07.png alt></p><p>You can see that a lot of Iraqi refugees resettled between 1990-1995, which coincides with the Gulf War (1990-1).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plot(<span style=color:#e6db74>&#39;Levant&#39;</span>, UniqueNames_levant)
</span></span></code></pre></div><p><img loading=lazy src=/images/2021-08-18-18-51-31.png alt></p><p>This graph shows only refugees from the Levant region. As expected, a lot of Iraqis sought asylum during the 90&rsquo;s, but Syrian refugees spiked up after 2010, which coincides with Arab Spring (2010-2).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plot(<span style=color:#e6db74>&#39;North Africa&#39;</span>, UniqueNames_north_africa)
</span></span></code></pre></div><p><img loading=lazy src=/images/2021-08-18-18-51-58.png alt></p><p>In North Africa, Somalian refugees spiked up around 2010, which is the result from non-functioning government, which resulted in rising clan wars. Additionally, you can see that there are a lot of Eritrean refugees too, from indefinite conscription. Families of those who fled the military are also targeted.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.karnwong.me/tags/data-analysis/>data analysis</a></li></ul><nav class=paginav><a class=prev href=https://www.karnwong.me/posts/2018/07/definition-of-a-word/><span class=title>« Prev</span><br><span>Definition of 'a Word'</span></a>
<a class=next href=https://www.karnwong.me/posts/2017/11/how-angur-became-ngun/><span class=title>Next »</span><br><span>How angur became องุ่น</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.karnwong.me/>Karn Wong</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>