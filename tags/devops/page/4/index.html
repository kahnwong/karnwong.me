<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>devops | Karn Wong</title><meta name=keywords content><meta name=description content="Homepage and blog by Karn Wong"><meta name=author content="Karn Wong"><link rel=canonical href=https://www.karnwong.me/tags/devops/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><link rel=icon href=https://www.karnwong.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.karnwong.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.karnwong.me/favicon-32x32.png><link rel=apple-touch-icon href=https://www.karnwong.me/apple-touch-icon.png><link rel=mask-icon href=https://www.karnwong.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://www.karnwong.me/tags/devops/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-8CYMFC0KZ9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8CYMFC0KZ9",{anonymize_ip:!1})}</script><meta property="og:title" content="devops"><meta property="og:description" content="Homepage and blog by Karn Wong"><meta property="og:type" content="website"><meta property="og:url" content="https://www.karnwong.me/tags/devops/"><meta name=twitter:card content="summary"><meta name=twitter:title content="devops"><meta name=twitter:description content="Homepage and blog by Karn Wong"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.karnwong.me/ accesskey=h title="Karn Wong (Alt + H)">Karn Wong</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.karnwong.me/about/ title=About><span>About</span></a></li><li><a href=https://www.karnwong.me/posts title=Posts><span>Posts</span></a></li><li><a href=https://www.karnwong.me/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://www.karnwong.me/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.karnwong.me/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://www.karnwong.me/>Home</a>&nbsp;»&nbsp;<a href=https://www.karnwong.me/tags/>Tags</a></div><h1>devops</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>ecs-cli snippets</h2></header><div class=entry-content><p>ecs-cli configure profile \ --access-key $KEY \ --secret-key $SECRET \ --profile-name $PROFILE ### launch mode: fargate ecs-cli configure \ --cluster $CLUSTER \ --default-launch-type FARGATE \ --config-name $NAME \ --region ap-southeast-1 ecs-cli up \ --cluster-config $NAME \ --vpc $VPCID\ --subnets $SUBNETID1, $SUBNETID2 ### launch mode: ec2 ecs-cli configure \ --cluster $CLUSTER \ --region ap-southeast-1 \ --default-launch-type EC2 \ --config-name $NAME ecs-cli up --keypair $KEYPAIR \ --extra-user-data userData.sh \ --capability-iam --size 1 \ --instance-type t2....</p></div><footer class=entry-footer><span title='2021-10-08 17:18:29 +0700 +07'>October 8, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Karn Wong</footer><a class=entry-link aria-label="post link to ecs-cli snippets" href=https://www.karnwong.me/posts/2021/10/ecs-cli-snippets/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Self-hosting primer</h2></header><div class=entry-content><p>Self-hosting is a practice for running and managing websites / services using your own server. Some people do this because they are concerned about their privacy, or some services are free if they host it themselves. Below are instructions for how to do self-hosting (also applies to hosting your own website too).
Requirements Domain name Server (can be your own computer at home or VPS) Instructions Set up and secure the server (set up password, disable password login (which means you can only login via SSH key), etc....</p></div><footer class=entry-footer><span title='2021-08-22 18:08:31 +0700 +07'>August 22, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Karn Wong</footer><a class=entry-link aria-label="post link to Self-hosting primer" href=https://www.karnwong.me/posts/2021/08/self-hosting-primer/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Automatic scrapy deployment with GitHub actions</h2></header><div class=entry-content><p>Repo here
Scrapy is a nice framework for web scraping. But like all local development processes, some settings / configs are disabled.
This wouldn’t pose an issue, but to deploy a scrapy project to zyte (a hosted scrapy platform) you need to run shub deploy, and if you run it and forget to reset the config back to prod settings, a Titan may devour your home.
You can set auto deployment from github via the UI in zyte, but it only works with github only....</p></div><footer class=entry-footer><span title='2021-06-02 21:48:12 +0700 +07'>June 2, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Karn Wong</footer><a class=entry-link aria-label="post link to Automatic scrapy deployment with GitHub actions" href=https://www.karnwong.me/posts/2021/06/automatic-scrapy-deployment-with-github-actions/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Add Ghost content to Hugo</h2></header><div class=entry-content><p>Ghost CMS is very easy to use, but the deployment overhead (maintaining db, ghost version, updates and etc) might be too much for some. Luckily, there’s a way to convert a Ghost site to static pages, which you can later host on Github pages or something similar.
Setup static site engine: Hugo a Ghost instance Usage Install https://github.com/Fried-Chicken/ghost-static-site-generator cd to static directory in your Hugo folder run gssg --domain ${YOUR_GHOST_INSTANCE_URL} --dest posts --url ${YOUR_STATIC_SITE_DOMAIN_WITHOUT_TRAILING_SLASH} --subDir posts Update your hugo config to link to the above folder: [[menu....</p></div><footer class=entry-footer><span title='2021-03-31 04:05:02 +0000 UTC'>March 31, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Karn Wong</footer><a class=entry-link aria-label="post link to Add Ghost content to Hugo" href=https://www.karnwong.me/posts/2021/03/create-static-site-from-ghost-blog/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Hello Caddy</h2></header><div class=entry-content><p>Since starting self-hosting back in 2017, I’ve always used apache2 since it’s the first webserver I came across. Over time adding more services and managing separate vhost config is a bit tiresome.
Enters Caddy. It’s very simple to set up and configure. Some services where I have trouble setting up in apache2 do not need extra config at all, even TLS is set up by default. Starting from Caddy2 it works with CNAME by default without extra setups....</p></div><footer class=entry-footer><span title='2021-03-07 08:32:19 +0000 UTC'>March 7, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Karn Wong</footer><a class=entry-link aria-label="post link to Hello Caddy" href=https://www.karnwong.me/posts/2021/03/hello-caddy/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://www.karnwong.me/tags/devops/page/3/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://www.karnwong.me/tags/devops/page/5/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://www.karnwong.me/>Karn Wong</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>